---
import type { Props, SidebarEntry } from '@astrojs/starlight/props';
import DefaultSidebar from '@astrojs/starlight/components/Sidebar.astro';

const isGrantPage = Astro.url.pathname.startsWith('/grant');

let currentPath = Astro.url.pathname;

if (isGrantPage) {
    Astro.props.sidebar = [
      { "label": "Grants", "href": "/grants/", "type": "link", "isCurrent": currentPath === "/grants", "badge": undefined, "attrs": {} },
      { "label": "Thesan",  "type": "group", "badge": undefined, "entries": [
          { "label": "What is it", "href": "/grants/#what-is-thesan", "type": "link", "isCurrent": currentPath === "/grants/#what-is-thesan", "badge": undefined, "attrs": {} },
          { "label": "How to apply", "href": "/grants/#how-to-apply", "type": "link", "isCurrent": currentPath === "/grants/#how-to-apply", "badge": undefined, "attrs": {} },
          { "label": "Selection workflow", "href": "/grants/#selection-process", "type": "link", "isCurrent": currentPath === "/grants/#selection-process", "badge": undefined, "attrs": {} },

      ], collapsed: false },
      { "label": "Ecosystem funding", "href": "/grants/#milestone-guidelines", "type": "link", "isCurrent": currentPath === "/grants/#ecosystem-funding", "badge": undefined, "attrs": {} },
    ];
}


---

<DefaultSidebar {...Astro.props}><slot /></DefaultSidebar>